<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Chat Widget Demo</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
        }
        
        .demo-content {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #333;
            margin-bottom: 20px;
        }
        
        .demo-section {
            margin: 30px 0;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 6px;
        }
        
        .config-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 6px;
            margin: 20px 0;
        }
        
        label {
            display: block;
            margin: 10px 0 5px;
            font-weight: 500;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }
        
        button {
            background: #3B82F6;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            margin: 10px 5px 10px 0;
        }
        
        button:hover {
            background: #2563EB;
        }
        
        .code-block {
            background: #1f2937;
            color: #f9fafb;
            padding: 15px;
            border-radius: 6px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 13px;
            overflow-x: auto;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <div class="demo-content">
        <h1>ðŸ”´ Live Chat Widget Demo</h1>
        
        <div class="demo-section">
            <h2>Widget Configuration</h2>
            <div class="config-section">
                <label for="organizationId">Organization ID:</label>
                <input type="text" id="organizationId" value="demo-org-123" />
                
                <label for="position">Position:</label>
                <select id="position">
                    <option value="bottom-right">Bottom Right</option>
                    <option value="bottom-left">Bottom Left</option>
                </select>
                
                <label for="primaryColor">Primary Color:</label>
                <input type="color" id="primaryColor" value="#3B82F6" />
                
                <label for="greetingMessage">Greeting Message:</label>
                <textarea id="greetingMessage" rows="2">Hi there! ðŸ‘‹ How can we help you today?</textarea>
                
                <label for="placeholderText">Placeholder Text:</label>
                <input type="text" id="placeholderText" value="Type your message..." />
                
                <label>
                    <input type="checkbox" id="showAvatar" checked /> Show Avatar
                </label>
                
                <label>
                    <input type="checkbox" id="enabled" checked /> Widget Enabled
                </label>
                
                <button onclick="updateWidget()">Update Widget</button>
                <button onclick="toggleWidget()">Toggle Widget</button>
            </div>
        </div>
        
        <div class="demo-section">
            <h2>Integration Code</h2>
            <p>Add this code to your website to embed the live chat widget:</p>
            
            <div class="code-block" id="integrationCode">
&lt;script src="https://your-domain.com/widget/live-chat-widget.js"&gt;&lt;/script&gt;
&lt;script&gt;
  LiveChatWidget.init({
    organizationId: 'your-org-id',
    apiUrl: 'https://your-domain.com/api',
    position: 'bottom-right',
    primaryColor: '#3B82F6',
    greetingMessage: 'Hi there! ðŸ‘‹ How can we help you today?',
    placeholderText: 'Type your message...',
    showAvatar: true,
    enabled: true
  });
&lt;/script&gt;
            </div>
        </div>
        
        <div class="demo-section">
            <h2>Features Demo</h2>
            <p>The live chat widget in the bottom right corner demonstrates:</p>
            <ul>
                <li>âœ… Responsive design that works on all devices</li>
                <li>âœ… Real-time messaging with WebSocket connection</li>
                <li>âœ… Typing indicators and message status</li>
                <li>âœ… Customizable appearance and position</li>
                <li>âœ… Accessibility support with keyboard navigation</li>
                <li>âœ… Automatic visitor identification and conversation persistence</li>
                <li>âœ… Mobile-optimized interface</li>
                <li>âœ… Secure and lightweight (< 50KB)</li>
            </ul>
        </div>
        
        <div class="demo-section">
            <h2>API Integration</h2>
            <p>Test the chat functionality by sending messages. The widget connects to:</p>
            <ul>
                <li><strong>WebSocket:</strong> Real-time messaging</li>
                <li><strong>REST API:</strong> Conversation and visitor management</li>
                <li><strong>Analytics:</strong> Usage tracking and performance metrics</li>
            </ul>
        </div>
    </div>

    <script>
        // Initialize widget with default config
        let currentConfig = {
            organizationId: 'demo-org-123',
            apiUrl: '/api',
            position: 'bottom-right',
            primaryColor: '#3B82F6',
            greetingMessage: 'Hi there! ðŸ‘‹ How can we help you today?',
            placeholderText: 'Type your message...',
            showAvatar: true,
            enabled: true
        };

        function updateWidget() {
            // Get values from form
            currentConfig = {
                organizationId: document.getElementById('organizationId').value,
                apiUrl: '/api',
                position: document.getElementById('position').value,
                primaryColor: document.getElementById('primaryColor').value,
                greetingMessage: document.getElementById('greetingMessage').value,
                placeholderText: document.getElementById('placeholderText').value,
                showAvatar: document.getElementById('showAvatar').checked,
                enabled: document.getElementById('enabled').checked
            };

            // Remove existing widget
            const existingContainer = document.getElementById('live-chat-widget-container');
            if (existingContainer) {
                existingContainer.remove();
            }

            // Re-initialize with new config
            if (window.LiveChatWidget) {
                window.LiveChatWidget.init(currentConfig);
            }

            // Update integration code
            updateIntegrationCode();
        }

        function toggleWidget() {
            currentConfig.enabled = !currentConfig.enabled;
            document.getElementById('enabled').checked = currentConfig.enabled;
            updateWidget();
        }

        function updateIntegrationCode() {
            const code = `&lt;script src="https://your-domain.com/widget/live-chat-widget.js"&gt;&lt;/script&gt;
&lt;script&gt;
  LiveChatWidget.init({
    organizationId: '${currentConfig.organizationId}',
    apiUrl: 'https://your-domain.com/api',
    position: '${currentConfig.position}',
    primaryColor: '${currentConfig.primaryColor}',
    greetingMessage: '${currentConfig.greetingMessage}',
    placeholderText: '${currentConfig.placeholderText}',
    showAvatar: ${currentConfig.showAvatar},
    enabled: ${currentConfig.enabled}
  });
&lt;/script&gt;`;
            
            document.getElementById('integrationCode').innerHTML = code;
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', () => {
            updateIntegrationCode();
            // Widget will be initialized when the bundle loads
        });
    </script>
</body>
</html>